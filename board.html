<!DOCTYPE html>
<html>
<head>
	<title>BOARD</title>
	<link rel="stylesheet" type="text/css" href="board.css">
</head>
<body>
	<div class="board"></div>
	<div class="menu">
		<div class="LEDMenu"></div>
			<button type="button" onclick="LEDBoard()">LED</button><br>
			<input type="text" value="#" name="colorLED" id="LEDcolor" 
			onkeydown="if (event.keyCode == 13) document.getElementById('changeLEDColor').click()">
			<br>
            <button type="button" id="changeLEDColor" onclick="changeLEDColor()">GO</button>
		</div>
	</div>

	<script type="text/javascript">
		var colorOnClick = "pink";
		var LEDcolor = "green";
		var isDraw = false;
		var row = 10;
		var col = 30;
		var shape = [
			//7*15
			"000000000000000",
			"010101000101110",
			"010101010101000",
			"011101010101000",
			"001001010101000",
			"001001111101110",
			"000000000000000"
		];

		function createBoard() {
			for (var i = 0; i < row; i++) {
				var rowDiv = document.createElement("div");
				rowDiv.className = "row";
				for (var j = 0; j < col; j++) {
					var boxDiv = document.createElement("div");
					boxDiv.className = "box";
					boxDiv.addEventListener("click", clickBox(i,j));
					rowDiv.appendChild(boxDiv);  
				}
				document.getElementsByClassName("board")[0].appendChild(rowDiv);
			}
			isDraw = true;
		}

		function drawShape(shape, type, color) {
			for (var i = 0; i < shape.length; i++) {
				var rowtemp = shape[i];
				for (var j = 0; j < rowtemp.length; j++) {
					var pos = rowtemp.charAt(j);
					var box = document.getElementsByClassName("row")[i].childNodes;
					if(type == "LED") {
						box[j].className += " LED";
					}
					if(pos == 1){
						box[j].style.background=color;
					}

				}
			}
		}

		//Fixed
		function clickBox(i,j) {
			if(isDraw) {
				var a = document.getElementsByClassName("row")[i].childNodes;
						a[j].style.background = colorOnClick;
			}
		}

		function LEDBoard() {
			drawShape(shape, "LED", LEDcolor);
		}

		function changeLEDColor(color){
			LEDcolor = document.getElementById('LEDcolor').value;
			LEDBoard();
		}
		createBoard();
		drawShape(shape, "default", "red");
	</script>
</body>
</html>